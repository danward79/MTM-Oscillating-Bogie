<!DOCTYPE html>
<html>
<head>
  <title>MTM Dashboard</title>
  <link rel="stylesheet" type="text/css" href="/static/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="/static/keen-dashboards.css" />
  <script type="text/javascript" src="/static/crossfilter.js"></script>
  <script src="/static/d3.js"></script>
  <link rel="stylesheet" type="text/css" href="/static/dc.css" media="screen" /> 
  <script src="/static/dcWebExamples.js" type="text/javascript"></script>
  
  <link rel="stylesheet" type="text/css" href="/static/jquery.dataTables.min.css" />
  <script src="/static/jquery-1.11.3.min.js" type="text/javascript"></script>
  <script src="/static/jquery.dataTables.min.js" type="text/javascript"></script>
  
  <script type="text/javascript" src="/static/bootstrap.min.js"></script>
  <script type="text/javascript" src="/static/holder.js"></script>
  <script>
    Holder.add_theme("white", { background:"#fff", foreground:"#a7a7a7", size:10 });
  </script>

  <script type="text/javascript" src="/static/keen.min.js"></script>
  <script type="text/javascript" src="/static/meta.js"></script>
  <link rel="stylesheet" type="text/css" href="/static/rotateXaxisLabelsLHR.css" media="screen" />
  
  <script src="/static/intro.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="/static/introjs.css" />

<!-- Google Analystics code has been taken out by L. Rico 4 Nov '15 --> 
  
</head>
<body class="application">


  <div class="navbar navbar-inverse navbar-fixed-top" >
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" >MTM Bogie Dynamic Testing Dashboard. Werribee Line Results
			
		</a>

      </div>
    </div>
  </div>
  
  <div class="container-fluid">
    <div class="row">

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-title">
            All Exceedences Counter
          </div>
		  
          <div class="chart-stage">
			<div id="line-chart"></div>
		  </div>
		  
          <div class="chart-notes">
            Line chart
          </div>
        </div>
      </div>
	  
	  <div class="col-sm-6 col-md-3">
        <div class="chart-wrapper">
          <div class="chart-title">
            Top Locations (Up to 10)
          </div>
          <div class="chart-stage">
            <div id="row-chart">
				
			</div>
          </div>
          <div class="chart-notes">
            Row chart
          </div>
        </div>
      </div>
	  
      <div class="col-sm-6 col-md-3">
        <div class="chart-wrapper">
          <div class="chart-title">
            Run filter
          </div>
          <div class="chart-stage">
            <div id="ring-RunChart" >
				
			</div>
          </div>
          <div class="chart-notes">
            Ring chart
          </div>
        </div>
      </div>
	  
	  
	  <div class="dc-data-count" style="float: right;">
			
				<span >  
				<label id="myExceedencesCounter"></label>
				events out of <label id="myTotalExceedences"></label>
				exceedences |
					<a href="javascript:dc.filterAll(); dc.renderAll();">Reset All</a>
				</span>
				
			<p>
	  
				<br />
				<br />
				  <select id="myDropDown">
						  <option value='0'>Select Route to display</option>
						  <option value='1'>Route 4th - 6</option>
						  <option value='2'>Route 23rd - 7</option>
						  <option value="3">Route 29th - 5</option>
						  <option value="4">Route 29th - 7</option>
				  </select>
			</p>
				
		</div>
	
	

    </div>

    <div class="row">

     <div class="col-sm-6 col-md-3">
        <div class="chart-wrapper">
          <div class="chart-title">
            Analysis Type filter
          </div>
          <div class="chart-stage">
            <div id="AnalisysChart" >
				
			</div>
          </div>
          <div class="chart-notes">
            Row chart
          </div>
        </div>
      </div>
	  
	  <div class="col-sm-6 col-md-3">
        <div class="chart-wrapper">
          <div class="chart-title">
            Accelerometer Location filter
          </div>
          <div class="chart-stage">
            <div id="accLocationChart">
			</div>
          </div>
          <div class="chart-notes">
            Row chart
          </div>
        </div>
      </div>
	  
      
	  
	   <div class="col-sm-6 col-md-3">
        <div class="chart-wrapper">
          <div class="chart-title">
            Speed range filter
          </div>
          <div class="chart-stage">
            <div id="speedBracketChart" >
				
			</div>
          </div>
          <div class="chart-notes">
            Row chart
          </div>
        </div>
      </div>

    </div>

    <hr>

    

  </div>

  <script src="/static/queue.js"></script>
  <script src='/static/processGraphs.js' type='text/javascript'></script>
  
  <script>
  
  var modefromFlask = '{{ mode }}';
  
  if (modefromFlask == 'local') {
		d3.csv("/static/AllWerribeeIn4Mongodb.csv", function (data) {
			nil = {};
			makeGraphs(nil, data);  // This invokes makeGraphs inside processGraphs.js
		  });
    }
   else {
	 queue()
        .defer(d3.json, "/connect2MongoDbCloud")  // Url in flask
        .await(makeGraphs);  // This also invokes makeGraphs inside processGraphs.js
    }
  
  </script>
  
  
</body>

</html>
